(this.webpackJsonpsphere1=this.webpackJsonpsphere1||[]).push([[0],{83:function(e,t,n){},84:function(e,t,n){},85:function(e,t,n){},88:function(e,t,n){"use strict";n.r(t);var o=n(10),i=n.n(o),a=n(37),s=n.n(a),r=(n(83),n(84),n(85),n(7)),u=n(1),d=n(4),h=n(41),m=n(40),c=n(0),v=function e(t,n,o,i){var a=this;if(Object(u.a)(this,e),this.startAnimation=function(){a.t1&&(a.t1.play(),a.drawAnimatedLine())},this.getLatAndLong=function(e,t,n){return[[Math.asin(e.z/n),Math.atan2(e.y,e.x)],[Math.asin(t.z/n),Math.atan2(t.y,t.x)]]},this.toXYZ=function(e,t,n){return{x:n*Math.cos(e)*Math.cos(t),y:n*Math.cos(e)*Math.sin(t),z:n*Math.sin(e)}},this.drawAnimatedLine=function(){var e=3e3*a.gVanVal.value;if(a.gVanVal.value<.999){.51===a.gVanVal.value&&a.scene.add(a.endPointMesh),a.gVanVal.value>.51&&(a.addedEndPoint||(a.scene.remove(a.startPointMesh),a.addedEndPoint=!0),a.mesh.material.uniforms.u_vanishValue.value+=.03);var t=a.mesh.material.uniforms.u_vanishValue.value.toFixed(1);Number(t)>3&&a.scene.remove(a.endPointMesh),a.mesh.geometry.setDrawRange(0,e)}else a.scene.remove(a.mesh)},this.scene=i,this.startTime=performance.now(),this.addedEndPoint=!1,void 0!==t&&void 0!==n){var s=this.getLatAndLong(t,n,o),r=Object(h.a)(s,2),v=r[0],w=r[1],g=Object(m.a)([v[1],v[0]],[w[1],w[0]]),l=g(.25),p=g(.75),f=new d.n(v[0],v[1]),x=new d.n(w[0],w[1]),y=.8*f.distanceTo(x)+1.35*o,M=this.toXYZ(l[1],l[0],y),z=this.toXYZ(p[1],p[0],y),D=new d.b(t,M,z,n);this.geometry=new d.m(D,64,.02,4),this.geometry.computeBoundingSphere(),this.geometry.computeBoundingBox(),this.material=new d.j({uniforms:{u_resolution:{type:"v2",value:new d.n(window.innerWidth,window.innerHeight)},u_vanishValue:{value:0}},vertexShader:"#define GLSLIFY 1\nvarying vec2 vUv;\n\nvoid main() {\n  vUv = uv;\n\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.);\n}",fragmentShader:"#ifdef GL_ES\nprecision mediump float;\n#define GLSLIFY 1\n#endif\n\nvarying vec2 vUv;\nuniform vec2 u_resolution;\nuniform float u_vanishValue;\n\nvoid main(void) {\n\tif (vUv.x < u_vanishValue) discard;\n  gl_FragColor = vec4(1.);\n}\n"}),this.simpleMaterial=new d.g({color:16777215});var L=new d.k(.05,32,32);this.startPointMesh=new d.f(L,this.simpleMaterial),this.endPointMesh=new d.f(L,this.simpleMaterial),this.mesh=new d.f(this.geometry,this.material),this.startPointMesh.position.set(t.x,t.y,t.z),this.endPointMesh.position.set(n.x,n.y,n.z),this.scene.add(this.mesh),this.scene.add(this.startPointMesh),this.gVanVal={value:0},this.geometry.setDrawRange(0,1),this.t1=new c.d({onUpdate:this.drawAnimatedLine}),this.t1.to(this.gVanVal,{value:.51,duration:1.1,ease:c.b.easeIn}).to(this.gVanVal,{value:1,duration:5},"+=1"),this.t1.pause()}},w=n(19),g=n.p+"static/media/map2.44adf478.png",l={group1:[{x:1.710651375385257,y:2.5090000000000003,z:3.972227444632612},{x:4.428914192259828,y:1.747666666666666,z:-1.5265583185131515},{x:2.2556385620402715,y:-3.6256666666666666,z:-2.6012758215266443},{x:-.3377278405015561,y:1.2393333333333332,z:-4.832183025780278},{x:-3.697382157586577,y:2.476000000000001,z:-2.3016144726605337},{x:-3.553819771080798,y:2.718666666666667,z:-2.2314158263826083},{x:-3.266468314656494,y:3.2126666666666672,z:-2.056907810075653},{x:-1.5358207793708558,y:4.64,z:-1.0543502898243542},{x:-2.650080023570794,y:4.046333333333333,z:-1.266594814542747},{x:-4.310934142420775,y:2.2713333333333336,z:-1.1211118180626518},{x:-4.358209461381206,y:2.2706666666666666,z:-.9219995551063066},{x:-4.195660532084914,y:2.54,z:-.9720250508628521}],group2:[{x:-4.195660532084914,y:2.54,z:-.9720250508628521},{x:-2.979752797046555,y:3.725333333333334,z:-1.4976531053781394},{x:-3.130552505715065,y:3.655666666666667,z:-1.3548956532454253},{x:-3.2614258099910263,y:3.4399999999999995,z:-1.5904407206571323},{x:-3.513931074153918,y:3.210333333333333,z:-1.5316815253127471},{x:-3.130552505715065,y:3.655666666666667,z:-1.3548956532454253},{x:-3.4489785996310713,y:3.578666666666667,z:.5456111327454606},{x:-3.5465476925958477,y:3.4319999999999995,z:.8021068907216012},{x:-3.522878126581114,y:3.431666666666666,z:.9016615740649209},{x:-3.622940741209172,y:3.357,z:.7777219205389136},{x:-3.625987298300832,y:3.209333333333333,z:-1.2459517117916716},{x:-4.046106324632884,y:2.7993333333333337,z:-.8903687430804499},{x:-3.9230782662039445,y:3.047333333333333,z:-.5685213037290788},{x:-3.411406692838146,y:3.6516666666666664,z:-.16623757582046553},{x:-4.7318518850639215,y:1.0119999999999998,z:1.2591400787112663}],group3:[{x:-4.7318518850639215,y:1.0119999999999998,z:1.2591400787112663},{x:-4.625882726551621,y:1.895333333333333,z:.09444869372783954},{x:-4.40772000180932,y:2.358666666666667,z:-.09325203057089464},{x:-4.4118565180010485,y:2.2696666666666667,z:-.6197864848428749},{x:-3.7199144834474733,y:3.2809999999999997,z:.6302977358659355},{x:-3.7964824547684,y:3.2033333333333336,z:.5704178522725737},{x:-3.8705218117108786,y:3.1243333333333334,z:.5075451972904068},{x:-3.8209314973718,y:3.204,z:.36724173563484624},{x:-4.215541309840821,y:2.626333333333333,z:-.5758339059553107},{x:-4.2557673922922215,y:2.624333333333333,z:.03631058052173312},{x:-4.02699085765463,y:2.9636666666666667,z:.00495189407372026},{x:-3.834449611507624,y:3.2056666666666667,z:-.1438659064242023},{x:-3.8345176756005266,y:3.2046666666666668,z:.1630513755314223},{x:-3.963173378484142,y:3.045,z:.14571126268957862}],group4:[{x:-3.9013197001668516,y:3.1256666666666666,z:.09956146834452805},{x:-3.940802606142463,y:3.044,z:.4518172411725471},{x:-4.02699085765463,y:2.9636666666666667,z:.00495189407372026},{x:-4.076350211681477,y:2.879666666666667,z:.30147776139088933},{x:-4.067759852418044,y:2.8793333333333337,z:.40344682253239206},{x:-3.8921245180296387,y:2.543,z:-1.8397058830564612},{x:-3.7549996031390123,y:2.717333333333334,z:-1.8751206723785574},{x:-2.4629911462663774,y:-4.218666666666667,z:1.0660798136016785},{x:-3.016787943834778,y:-3.4416666666666664,z:2.0134351386346387},{x:-.6419809614203476,y:4.203333333333333,z:2.6305606501395657},{x:-.5422444292457544,y:4.203,z:2.653443419210582},{x:-.3790170837588278,y:4.088000000000001,z:2.8538749184606798},{x:-.14547927697130092,y:4.145333333333333,z:2.7919611987861623},{x:-.02089508947360802,y:3.633666666666666,z:3.4345348958471},{x:1.710651375385257,y:2.5090000000000003,z:3.972227444632612}]},p=function e(t){var n=this;Object(u.a)(this,e),this.addListeners=function(){window.addEventListener("resize",n.onResize),n.dom.addEventListener("mousedown",n.onDocumentMouseDown,!1),n.dom.addEventListener("touchstart",n.onDocumentTouchStart,!1),n.dom.addEventListener("touchmove",n.onDocumentTouchMove,!1),n.dom.addEventListener("touchend",n.onDocumentTouchEnd,!1)},this.destroy=function(){window.removeEventListener("resize",n.onResize),n.dom.removeEventListener("mousedown",n.onDocumentMouseDown),n.dom.removeEventListener("touchstart",n.onDocumentTouchStart),n.dom.removeEventListener("touchmove",n.onDocumentTouchMove),n.dom.removeEventListener("touchend",n.onDocumentTouchEnd)},this.addObjects=function(){var e=new d.k(5,64,64),t={map:(new d.l).load(g),transparent:!0},o=new d.g(Object(r.a)(Object(r.a)({},t),{},{side:d.c})),i=new d.g(Object(r.a)(Object(r.a)({},t),{},{side:d.a,opacity:.3,depthTest:!1}));n.sphereFront=new d.f(e,o),n.sphereBack=new d.f(e,i),n.sphereFront.rotateY(55),n.sphereBack.rotateY(55);var a={uniforms:{u_resolution:{type:"v2",value:new d.n(window.innerWidth,window.innerHeight)}},vertexShader:"#define GLSLIFY 1\nvarying vec2 vUv;\nvarying vec3 vPosition;\nvarying vec3 vNormal;\n\nvoid main() {\n  vUv = uv;\n  vPosition = position;\n  vNormal = normalize(normalMatrix * normal);\n\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.);\n}",fragmentShader:"#ifdef GL_ES\nprecision mediump float;\n#define GLSLIFY 1\n#endif\n\nvarying vec2 vUv;\nvarying vec3 vPosition;\nvarying vec3 vNormal;\nuniform vec2 u_resolution;\n\nfloat hex(vec2 p) {\n  p.x *= 0.57735*2.0;\n\tp.y += mod(floor(p.x), 2.0) * 0.5;\n\tp = abs((mod(p, 1.0) - 0.5));\n\treturn abs(max(p.x * 1.5 + p.y, p.y * 2.0) - 0.9);\n}\n\nvoid main(void) {\n\tvec2 pos = vUv.xy / 3.;\n  pos.x *= 2.;\n\n\tvec2 p = pos / 0.01; \n\tfloat  r = (1.0 - 0.6)*0.4;\t\n\tvec4 hexagon = vec4(smoothstep(0.1, r - 0.1, hex(p)));\n  gl_FragColor = vec4(hexagon.x, hexagon.y, hexagon.z, 0.1);\n}\n",depthTest:!1,transparent:!0},s=new d.j(Object(r.a)(Object(r.a)({},a),{},{side:d.c})),u=new d.j(Object(r.a)(Object(r.a)({},a),{},{side:d.a})),h=new d.k(5,12,12),m=new d.f(h,s),c=new d.f(h,u);(new d.e).load(g,(function(e){n.group.add(n.sphereBack),n.group.add(n.sphereFront),n.group.add(m),n.group.add(c),n.positions=[],n.ptrGroups=[{all:l.group1.length-1,now:-1},{all:l.group2.length-1,now:-1},{all:l.group3.length-1,now:-1},{all:l.group4.length-1,now:-1}],n.outR=5,n.scene.add(n.group),n.startTime=!0}))},this.render=function(){if(n.startTime){n.time+=.1,n.drawLinesBetweenPositionsRender(),n.finalRotationY=n.targetRotationY-n.group.rotation.x;var e=.1*(n.targetRotationX-n.group.rotation.y);n.rotate&&((n.time-n.offsetTime).toFixed(1)>3||0===n.offsetTime)?(w.a.to(n.speed,{value:.004,duration:1}),n.group.rotation.y+=n.speed.value,n.rotationOffset=e,n.offsetTime=0):(n.speed.value=0,n.group.rotation.y+=.1*(n.targetRotationX-n.group.rotation.y)-n.rotationOffset)}requestAnimationFrame(n.render),n.renderer.render(n.scene,n.camera)},this.pointToUv=function(e){var t=e.x,n=e.y,o=e.z;return{u:.5+Math.atan2(t,o)/(2*Math.PI),v:.5-Math.asin(n)/Math.PI}},this.drawLinesBetweenPositionsRender=function(){n.time.toFixed(1)%24===0?n.drawLine(0):n.time.toFixed(1)%25===0?n.drawLine(1):n.time.toFixed(1)%26===0?n.drawLine(2):n.time.toFixed(1)%27===0&&n.drawLine(3)},this.drawLine=function(e){var t=l["group".concat(e+1)];n.ptrGroups[e].now=(n.ptrGroups[e].now+1)%(n.ptrGroups[e].all-1);var o=n.ptrGroups[e].now;new v(t[o],t[o+1],n.outR,n.group).startAnimation()},this.onDocumentMouseDown=function(e){n.rotate=!1,e.preventDefault(),n.dom.addEventListener("mousemove",n.onDocumentMouseMove,!1),n.dom.addEventListener("mouseup",n.onDocumentMouseUp,!1),n.dom.addEventListener("mouseout",n.onDocumentMouseOut,!1),n.mouseXOnMouseDown=e.clientX-n.windowHalfX,n.targetRotationOnMouseDownX=n.targetRotationX,n.mouseYOnMouseDown=e.clientY-n.windowHalfY,n.targetRotationOnMouseDownY=n.targetRotationY},this.onDocumentMouseMove=function(e){n.mouseX=e.clientX-n.windowHalfX,n.mouseY=e.clientY-n.windowHalfY,n.targetRotationY=n.targetRotationOnMouseDownY+.002*(n.mouseY-n.mouseYOnMouseDown),n.targetRotationX=n.targetRotationOnMouseDownX+.002*(n.mouseX-n.mouseXOnMouseDown)},this.onDocumentMouseUp=function(){n.rotate=!0,n.offsetTime=n.time,n.dom.removeEventListener("mousemove",n.onDocumentMouseMove,!1),n.dom.removeEventListener("mouseup",n.onDocumentMouseUp,!1),n.dom.removeEventListener("mouseout",n.onDocumentMouseOut,!1)},this.onDocumentMouseOut=function(){n.rotate=!0,n.offsetTime=n.time,n.dom.removeEventListener("mousemove",n.onDocumentMouseMove,!1),n.dom.removeEventListener("mouseup",n.onDocumentMouseUp,!1),n.dom.removeEventListener("mouseout",n.onDocumentMouseOut,!1)},this.onDocumentTouchStart=function(e){1===e.touches.length&&(n.rotate=!1,e.preventDefault(),n.mouseXOnMouseDown=e.touches[0].pageX-n.windowHalfX,n.targetRotationOnMouseDownX=n.targetRotationX,n.mouseYOnMouseDown=e.touches[0].pageY-n.windowHalfY,n.targetRotationOnMouseDownY=n.targetRotationY)},this.onDocumentTouchMove=function(e){1===e.touches.length&&(e.preventDefault(),n.mouseX=e.touches[0].pageX-n.windowHalfX,n.targetRotationX=n.targetRotationOnMouseDownX+.01*(n.mouseX-n.mouseXOnMouseDown),n.mouseY=e.touches[0].pageY-n.windowHalfY,n.targetRotationY=n.targetRotationOnMouseDownY+.01*(n.mouseY-n.mouseYOnMouseDown))},this.onDocumentTouchEnd=function(){n.rotate=!0,n.offsetTime=n.time},this.getImageData=function(e){var t=document.createElement("canvas");t.width=e.width,t.height=e.height;var n=t.getContext("2d");return t.getContext("2d").drawImage(e,0,0,e.width,e.height),n},this.onResize=function(){n.width=window.innerWidth,n.height=window.innerHeight,n.camera.aspect=n.width/n.height,n.camera.updateProjectionMatrix(),n.renderer.setSize(n.width,n.height)},this.dom=t,this.width=window.innerWidth,this.height=window.innerHeight,this.scene=new d.i,this.renderer=new d.p({antialias:!0}),this.renderer.setSize(this.width,this.height),this.context=this.renderer.getContext("2d"),this.time=0,this.offsetTime=0,this.startTime=!1,this.speed={value:0},this.renderer.setClearColor(1258572,1),t.appendChild(this.renderer.domElement),this.group=new d.d,this.rotate=!0,this.targetRotationX=0,this.targetRotationOnMouseDownX=0,this.targetRotationY=0,this.targetRotationOnMouseDownY=0,this.mouseX=0,this.mouseXOnMouseDown=0,this.mouseY=0,this.mouseYOnMouseDown=0,this.windowHalfX=window.innerWidth/2,this.windowHalfY=window.innerHeight/2,this.rotationOffset=0,this.finalRotationY=null,this.camera=new d.h(45,this.width/this.height,1,1e3),this.camera.position.set(0,0,20),this.camera.lookAt(new d.o),this.addListeners(),this.addObjects(),this.render()},f=n(9),x=function(){var e=i.a.useRef(null);return i.a.useEffect((function(){var t=new p(e.current);return function(){return t.destroy()}}),[e]),Object(f.jsx)("div",{className:"root",ref:e})},y=function(){return Object(f.jsx)("div",{className:"App",children:Object(f.jsx)(x,{})})},M=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,89)).then((function(t){var n=t.getCLS,o=t.getFID,i=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),o(e),i(e),a(e),s(e)}))};s.a.render(Object(f.jsx)(i.a.StrictMode,{children:Object(f.jsx)(y,{})}),document.getElementById("root")),M()}},[[88,1,2]]]);
//# sourceMappingURL=main.e9bb69e1.chunk.js.map